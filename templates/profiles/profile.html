{% extends "base.html" %}
{% load static %}

{% block title %} Settings {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<main class="content">

    {% include 'includes/navigation.html' %}

    <div class="columns is-vcentered is-flex-wrap-wrap">
        <div class="column is-narrow">
            
        </div>
        <div class="column is-narrow">
            <div class="buttons">
                <button type="button" class="button is-primary mr-2"><span class="fas fa-calendar-alt"></span></button>
                <div class="dropdown is-right is-hoverable">
                    <div class="dropdown-trigger">
                        <button class="button is-primary" aria-haspopup="true" aria-controls="dropdown-menu">
                            <span class="icon is-small"><span class="fas fa-clipboard mr-2"></span></span>
                            <span>Reports</span>
                            <span class="icon is-small"><span class="fas fa-chevron-down"></span></span>
                        </button>
                    </div>
                    <div class="dropdown-menu dashboard-dropdown dropdown-menu-left mt-2" id="dropdown-menu" role="menu">
                        <a class="dropdown-item font-weight-bold" href="#"><span class="fas fa-box-open mr-2"></span>Products</a>
                        <a class="dropdown-item font-weight-bold" href="#"><span class="fas fa-store mr-2"></span>Customers</a>
                        <a class="dropdown-item font-weight-bold" href="#"><span class="fas fa-cart-arrow-down mr-2"></span>Orders</a>
                        <a class="dropdown-item font-weight-bold" href="#"><span class="fas fa-chart-pie mr-2"></span>Console</a>
                        <hr class="dropdown-divider">
                        <a class="dropdown-item font-weight-bold" href="#"><span class="fas fa-rocket text-success mr-2"></span>All Reports</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <form action="{% url 'profile' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="columns is-multiline">
            <div class="column is-12 is-8-desktop">
                <div class="card bg-white border-light shadow-sm mb-4">
                    <h2 class="h5 mb-4">Profile information</h2>
                    <div class="columns is-multiline">
                        <div class="column is-6-desktop mb-3">
                            <div class="field">
                                <label for="first_name" class="label">First Name</label>
                                <div class="control">
                                    <input name="first_name" class="input" id="first_name" type="text"
                                           placeholder="Enter your first name" value="{{ profile.user.first_name }}"
                                           required>
                                </div>
                            </div>
                        </div>
                        <div class="column is-6-desktop mb-3">
                            <div class="field">
                                <label for="last_name" class="label">Last Name</label>
                                <div class="control">
                                    <input name="last_name" class="input" id="last_name" type="text"
                                           placeholder="Also your last name" value="{{ profile.user.last_name }}"
                                           required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="columns is-multiline is-vcentered">
                    </div>
                </div>
            </div>
            <div class="col-12 col-xl-4">
                <div class="card bg-white border-light shadow-sm mb-4">
                    <div class="card-header bg-transparent border-bottom-0">
                        <h2 class="h5 mb-0">Profile photo</h2>
                    </div>
                    <div class="card-body pt-0">
                        <div class="text-center">
                            <img src="{{ profile.profile_photo.url }}" alt="Profile picture" class="img-fluid rounded-circle mb-2" width="128" height="128" />
                        </div>
                        <div class="d-flex justify-content-center">
                            <div class="btn btn-primary btn-sm">
                                <input type="file" name="profile_photo" id="profile_photo">
                                <span class="fas fa-upload ms-2"></span> Upload
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card bg-white border-light shadow-sm mb-4">
                    <div class="card-header bg-transparent border-bottom-0">
                        <h2 class="h5 mb-0">Change password</h2>
                    </div>
                    <div class="card-body pt-0">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="current_password">Current password</label>
                                    <input name="current_password" class="form-control" id="current_password" type="password"
                                           placeholder="Enter your current password" required>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-group">
                                    <label for="new_password1">New password</label>
                                    <input name="new_password1" class="form-control" id="new_password1" type="password"
                                           placeholder="Enter your new password" required>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-group">
                                    <label for="new_password2">Confirm new password</label>
                                    <input name="new_password2" class="form-control" id="new_password2" type="password"
                                           placeholder="Confirm your new password" required>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card bg-white border-light shadow-sm mb-4">
                    <div class="card-header bg-transparent border-bottom-0">
                        <h2 class="h5 mb-0">Delete account</h2>
                    </div>
                    <div class="card-body pt-0">
                        <p class="text-danger font-weight-bold mb-4">Once you delete your account, there is no going back. Please be certain.</p>
                        <button type="submit" class="btn btn-danger"><span class="fas fa-trash-alt me-2"></span>Delete Account</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

</main>
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
